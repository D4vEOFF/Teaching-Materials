\section{Problém SAT}\label{sec:sat}

Jako první začneme zdánlivě možná jednoduchým problémem, který však na poli informatiky hraje dosti důležitou roli. Předpokládejme, že máme zadanou nějakou logickou formuli $\varphi$ o libovolném počtu logických proměnných, označme např. $x_1,x_2,\dots,x_n$. Naší otázkou je, jestli je možné hodnoty proměnných $x_1,x_2,\dots,x_n$ nastavit tak (tj. dosadit hodnoty 0 a 1), aby byla formule splněna\footnote{Může se na první pohled zdát, že se jedná o dosti teoretickou záležitost, nicméně později uvidíme, že mnoho jiných problémů má se SAT silnou spojitost.}, tj. $\varphi=1$. Takovému ohodnocení budeme říkat \emph{splňující}. Z toho vychází i název samotného problému SAT (z angl. \emph{satisfiability}, neboli splnitelnost).

\problem{Splnitelnost logické formule (SAT)}{Logická formule $\varphi$.}{1, pokud je $\varphi$ splnitelná, jinak 0.}

Nejdříve si zopakujeme logické operace a spojky. Mezi ně řadíme $\neg, \land, \lor, \implies, \iff$.
\begin{itemize}
    \item \textbf{Negace $\neg x$.} \emph{Převrací logickou hodnotu $x$.}
    \item \textbf{Konjunkce $a\land b$.} \emph{Pravdivá, jsou-li obě hodnoty operandů $a,b$ pravdivé.}
    \item \textbf{Disjunkce $a\lor b$.} \emph{Pravdivá, je-li alespoň jedna z hodnot operandů $a,b$ pravdivá.}
    \item \textbf{Implikace $a\implies b$.} \emph{Je-li předpoklad $a$ splněn, je splněn i závěr $b$. Tj. implikace je nepravdivá, pokud platí $a$ a neplatí $b$.}
    \item \textbf{Ekvivalence $a\iff b$.} \emph{$a$ platí právě tehdy, když platí $b$. Tj. ekvivalence je pravdivá, jsou-li hodnoty operandů $a,b$ současně 0 nebo 1.}
\end{itemize}
\begin{table}[h]\label{table:logicke_operace}
    \centering
    \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    $a$ & $b$ & $\neg a$ & $a\land b$ & $a\lor b$ & $a\implies b$ & $a\iff b$ \\ \hline
    0   & 0   & 1        & 0          & 0         & 1             & 1         \\ \hline
    0   & 1   & 1        & 0          & 1         & 1             & 0         \\ \hline
    1   & 0   & 0        & 0          & 1         & 0             & 0         \\ \hline
    1   & 1   & 0        & 1          & 1         & 1             & 1         \\ \hline
    \end{tabular}
\end{table}
Zde konstatujme, že ve všech příkladech bude mít negace $\neg$ vždy \emph{nejvyšší prioritu} oproti ostatním operacím. Prioritu ostatních operací budeme stanovovat pomocí závorek. 
\begin{example}\label{ex:sat_formule}
    \begin{itemize}
        \item $\varphi=x\land\neg x$ \dots \textbf{ Není splnitelná}, pro $x=0$ i $x=1$ je $\varphi=0$.
        \item $\psi=x\lor\neg x$ \dots \textbf{ Je splnitelná}, a to jak pro $x=0$, tak $x=1$.
        \item $\chi=\big((a\land b)\lor \neg c\big)\implies (\neg a\land\neg c)$ \dots \textbf{Je splnitelná}, např. pro $a=0$, $b=0$ a $c=0$.
    \end{itemize}
\end{example}
V příkladu \ref{ex:sat_formule} výše se jedná o poměrně jednoduché instance, kdy jsme schopni vidět hned, zda je formule splnitelná. Pokud bychom však uvážili nějakou složitější formuli, problém se již značně zkomplikuje.\footnote{Obecně pro formuli o $n$ proměnných je třeba prozkoumat řádově $2^n$ možných ohodnocení. Naivní algoritmus zkoušející všechny možnosti je tak exponenciální.} Pro SAT není dodnes známý žádný algoritmus, který by jej uměl řešit pro libovolnou logickou formuli v polynomiálním čase.

\subsection{Konjunktivní normální forma}\label{subsec:cnf}

Zkusíme se podívat na formule ve speciálním tvaru, a to tzv. \emph{konjunktivní normální formě}, neboli zkráceně \emph{CNF}\footnote{Z angl. \emph{conjunctive normal form}.}

Každá formule skládá z tzv. \textbf{klauzulí} obsahujících tzv. \textbf{literály}, což je buď \emph{proměnná, nebo její negace}.
\begin{itemize}
    \item Klauzule jsou ve formuli odděleny \emph{logickou spojkou $\land$}
    \item a v každé klauzuli jsou literály odděleny \emph{logickou spojkou $\lor$}.
\end{itemize}
\[\varphi=\underbrace{(\cdots\lor\cdots\lor\cdots)}_{\text{klauzule}}\land(\cdots\lor \overbrace{x}^{\text{literál}}\lor\cdots)\land(\cdots\lor\overbrace{\neg x}^{\text{literál}}\lor\cdots)\land(\cdots\lor \underbrace{y}_{\text{literál}}\lor\cdots)\land\cdots\]
\begin{example}\label{ex:cnf_formule}
    \begin{itemize}
        \item \(\varphi=\neg x\land (y\lor z)\) \dots \textbf{Je v CNF.} Formule $\varphi$ obsahuje klauzule $x$ (klauzule o jednom literálu) a $y\lor z$.
        \item \(\psi=a\land b\) \dots \textbf{Je v CNF.}
        \item \(\chi=a\land \big(b\lor (c\land d)\big)\) \dots \textbf{Není v CNF}, protože výraz $c\land d$ není literál.
    \end{itemize}
    Poslední formuli lze však převést do CNF: $a\land (b\lor c)\land (b\lor d)$.
\end{example}
